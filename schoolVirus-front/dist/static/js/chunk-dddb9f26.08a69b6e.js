(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dddb9f26"],{"3f52":function(e,r,a){"use strict";a.d(r,"b",(function(){return s})),a.d(r,"c",(function(){return n})),a.d(r,"a",(function(){return o}));var t=a("b775");function s(e){return Object(t["a"])({url:"/personal/update_basic",method:"put",data:e})}function n(e){return Object(t["a"])({url:"/role/update_role_pass",method:"put",data:e})}function o(e){return Object(t["a"])({url:"/personal/get_personal?i_stuid=".concat(e),method:"get"})}},"900b":function(e,r,a){"use strict";a("c463")},c463:function(e,r,a){},e1a7:function(e,r,a){"use strict";a.r(r);var t=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("transition-group",{attrs:{name:"animate__animated animate__bounce",appear:!0,"enter-active-class":"animate__fadeInLeftBig","leave-active-class":"animate__fadeOutLeftBig"}},[a("div",{key:1,staticClass:"alter-container"},[a("h3",[e._v("Change Password")]),a("el-divider",{attrs:{"content-position":"right"}},[e._v("Campus Epidemic Management System")]),a("el-form",{ref:"alterFormRef",attrs:{model:e.alterForm,rules:e.alterRules,"label-width":"100px","label-position":e.labelPosition}},[a("el-form-item",{attrs:{label:"New Password",prop:"newPassword"}},[a("el-input",{model:{value:e.alterForm.newPassword,callback:function(r){e.$set(e.alterForm,"newPassword",r)},expression:"alterForm.newPassword"}})],1),a("el-form-item",{attrs:{label:"Confirm the new password",prop:"checkPassword"}},[a("el-input",{model:{value:e.alterForm.checkPassword,callback:function(r){e.$set(e.alterForm,"checkPassword",r)},expression:"alterForm.checkPassword"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.updatePassword}},[e._v("Change Password")]),a("el-button",{attrs:{type:"info"}},[e._v("Reset")])],1)],1)],1)])},s=[],n=a("1da1"),o=(a("96cf"),a("4d63"),a("ac1f"),a("2c3e"),a("25f0"),a("00b4"),a("3f52")),c={name:"AlterPassword",data:function(){var e=new RegExp("[^a-zA-Z0-9_一-龥]","i"),r=function(r,a,t){!0===e.test(a)?t(new Error("Contains illegal strings, can only be alphanumeric or Chinese characters")):t()};return{labelPosition:"right",alterForm:{newPassword:"Please enter a new password",checkPassword:"Please confirm new password"},alterRules:{oldPassword:[{required:!0,message:"Required fields"},{min:6,max:16,message:"6 to 16 characters long",trigger:"change blur focus"},{validator:r}],newPassword:[{required:!0,message:"Required fields"},{min:6,max:16,message:"6 to 16 characters long",trigger:"change blur focus"},{validator:r}],checkPassword:[{required:!0,message:"Required fields"},{min:6,max:16,message:"6 to 16 characters long",trigger:"change blur focus"},{validator:r}]}}},created:function(){},methods:{updatePassword:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var a,t;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={r_account:e.$store.state.user.rolesData.r_account,r_pwd:e.alterForm.newPassword},console.log(a),r.next=4,Object(o["c"])(a);case 4:t=r.sent,t.data.length>=15?(localStorage.clear(),e.$message({message:"Password reset complete",type:"success"}),e.$router.push({path:e.redirect||"/login"})):e.$message({message:"Password reset failed",type:"error"});case 6:case"end":return r.stop()}}),r)})))()}}},i=c,l=(a("900b"),a("2877")),u=Object(l["a"])(i,t,s,!1,null,null,null);r["default"]=u.exports}}]);